schema: '2.0'
stages:
  load_data:
    cmd: python src/stage_01_load_save.py --config=config/config.yaml
    deps:
    - path: ../data
      md5: 02ce77b278f9d750d6eb1cd2509f3fde.dir
      size: 58434190
      nfiles: 291
    - path: config/config.yaml
      md5: c29d04ddcb7d645e9079d665e977cb9d
      size: 576
    - path: src/stage_01_load_save.py
      md5: 773df5e08e8e97e51912371e29ad14d0
      size: 1669
    - path: src/utils/all_utils.py
      md5: 267700b0b4150b65a4f696cc5beb4e94
      size: 1027
    outs:
    - path: data
      md5: 5cd150b4fb155bfb1bf4a8c17aa538eb.dir
      size: 58434190
      nfiles: 291
  prepare_base_model:
    cmd: python src/stage_02_prepare_base_model.py --config=config/config.yaml --params=params.yaml
    deps:
    - path: config/config.yaml
      md5: c29d04ddcb7d645e9079d665e977cb9d
      size: 576
    - path: params.yaml
      md5: 5c26820ca00bb35d0b5520ad730c4bbb
      size: 118
    - path: src/stage_02_prepare_base_model.py
      md5: 7b19b0291c021efc5e197df6c2b493a8
      size: 2229
    - path: src/utils/all_utils.py
      md5: 267700b0b4150b65a4f696cc5beb4e94
      size: 1027
    - path: src/utils/models.py
      md5: d183ab2a093444e23542a8c8ed45c103
      size: 2541
    params:
      params.yaml:
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        LEARNING_RATE: 0.01
    outs:
    - path: artifacts/base_model/VGG16.h5
      md5: 6454385634b0618e7e8d116530348e21
      size: 58920816
    - path: artifacts/base_model/updated_VGG16.h5
      md5: 85189e95bd009074eab6efb19e33af79
      size: 59133416
  prepare_callbacks:
    cmd: python src/stage_03_prepare_callbacks.py --config=config/config.yaml --params=params.yaml
    deps:
    - path: config/config.yaml
      md5: c29d04ddcb7d645e9079d665e977cb9d
      size: 576
    - path: params.yaml
      md5: 5c26820ca00bb35d0b5520ad730c4bbb
      size: 118
    - path: src/stage_03_prepare_callbacks.py
      md5: 8831ea29d4af2845bab099b1946429b1
      size: 1826
    - path: src/utils/all_utils.py
      md5: 267700b0b4150b65a4f696cc5beb4e94
      size: 1027
    - path: src/utils/callbacks.py
      md5: 47f9289a47896bc1e89dfce6edcee9d6
      size: 1487
    outs:
    - path: artifacts/callbacks/checkpoint_cb.cb
      md5: f0f00ca19cb1372c05aabf3f7fd0a8a9
      size: 723
    - path: artifacts/callbacks/tensorboard_cb.cb
      md5: a685d7cce8f9fbaf3c09d06747ee15d9
      size: 572
  train:
    cmd: python src/stage_04_train.py --config=config/config.yaml --params=params.yaml
    deps:
    - path: artifacts/base_model/updated_VGG16.h5
      md5: 85189e95bd009074eab6efb19e33af79
      size: 59133416
    - path: artifacts/callbacks/checkpoint_cb.cb
      md5: f0f00ca19cb1372c05aabf3f7fd0a8a9
      size: 723
    - path: artifacts/callbacks/tensorboard_cb.cb
      md5: a685d7cce8f9fbaf3c09d06747ee15d9
      size: 572
    - path: config/config.yaml
      md5: c29d04ddcb7d645e9079d665e977cb9d
      size: 576
    - path: data
      md5: 5cd150b4fb155bfb1bf4a8c17aa538eb.dir
      size: 58434190
      nfiles: 291
    - path: src/stage_04_train.py
      md5: 433d7924a2fab00149dc3b8a13ac11ae
      size: 3369
    - path: src/utils/all_utils.py
      md5: 267700b0b4150b65a4f696cc5beb4e94
      size: 1027
    - path: src/utils/callbacks.py
      md5: 47f9289a47896bc1e89dfce6edcee9d6
      size: 1487
    - path: src/utils/data_management.py
      md5: de2dc7f006b645cfdcd30e58689f4926
      size: 1399
    - path: src/utils/evaluate.py
      md5: d6623cba2988ca3da800cb7861de05ae
      size: 2845
    - path: src/utils/models.py
      md5: d183ab2a093444e23542a8c8ed45c103
      size: 2541
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 20
        EPOCHS: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/evaluation/metrics.json
      md5: c15631f6839d02b0c78ed5ec8d571e80
      size: 246
    - path: artifacts/model
      md5: c94650f066a0f1e59ea4264a1780cfbb.dir
      size: 236542784
      nfiles: 4
